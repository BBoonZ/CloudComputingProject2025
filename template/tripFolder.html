<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สร้างแผนการเดินทาง - Travel Planner Pro</title>
    <link rel="stylesheet" href="static/css/tripPlan.css">
    <link rel="stylesheet" href="static/css/tripFolder.css">
    <link rel="stylesheet" href="static/css/main-nav.css">
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>

    <header class="header">
        <div class="container">
            <div class="logo">
                <a href="tripMain.html">Travel Planner Pro ✈️</a>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#">แผนการเดินทางของฉัน</a></li>
                    <li><a href="#">การตั้งค่า</a></li>
                    <img src="https://img.poki-cdn.com/cdn-cgi/image/q=78,scq=50,width=1200,height=1200,fit=cover,f=png/5f8d164d8269cffacc89422054b94c70/roblox.png"
                        alt="User Profile" class="profile-pic">
                </ul>
            </nav>
        </div>
    </header>

    <main class="trip-plan-main">
        <div class="container">
            <div class="plan-header">
                <h1>ทริปตะลุยเชียงใหม่ 4 วัน 3 คืน</h1>
                <div class="plan-meta">
                    <span class="plan-dates">1 - 4 ธันวาคม 2567</span>
                    <button class="btn btn-save" id="openEdit"
                        onclick="document.getElementById('iframeEditModal').style.display='flex'"><i
                            class="fas fa-edit"></i> แก้ไข</button>
                    <button class="btn btn-share" id="openShare"
                        onclick="document.getElementById('iframeShareModal').style.display='flex'"><i
                            class="fas fa-share-alt"></i> แชร์</button>
                </div>
            </div>
            <div class="info">
                <div class="container">
                    <p>ทริปตะลุยเชียงใหม่ของคุณ สามารถวางแผนได้ทั้งการชมเมืองเก่า, เที่ยววัด, ไปแหล่งธรรมชาติ,
                        หรือตะลุยกิจกรรมแอดเวนเจอร์ เช่น โหนสลิง, ล่องแก่ง, หรือขี่ ATV โดยมีสถานที่แนะนำ เช่น
                        วัดพระธาตุดอยสุเทพ, ดอยอินทนนท์, ม่อนแจ่ม, ถนนคนเดินท่าแพ, โป่งแยง จังเกิ้ล โคสเตอร์ แอนด์
                        ซิปไลน์, และแกรนด์แคนยอน หางดง เพื่อให้คุณสนุกกับการผจญภัยในแบบที่ชอบ</p>
                </div>
            </div>

            <div class="plan-layout">
                <aside class="plan-sidebar">
                    <div class="sidebar-item" onclick="window.location.href='tripPlan.html'">
                        <i class="fas fa-calendar-alt"></i> กำหนดการเดินทาง
                    </div>
                    <div class="sidebar-item" onclick="window.location.href='tripBudget.html'">
                        <i class="fas fa-wallet"></i> งบประมาณ
                    </div>
                    <div class="sidebar-item" onclick="window.location.href='tripTeam.html'">
                        <i class="fas fa-users"></i> สมาชิก & แชท
                    </div>
                    <div class="sidebar-item active">
                        <i class="fas fa-file-alt"></i> เอกสาร
                    </div>
                </aside>

                <div class="plan-content">
                    <div class="file-header">
                        <h2><i class="fas fa-folder-open"></i> เอกสารประกอบการเดินทาง</h2>
                        <label for="fileUpload" class="btn btn-upload">
                            <i class="fas fa-upload"></i> อัปโหลดไฟล์
                        </label>
                        <input type="file" id="fileUpload" style="display: none;" onchange="handleUpload(event)">
                    </div>

                    <div class="file-list">
                        <!-- ไฟล์ตัวอย่าง -->
                        <div class="file-item">
                            <i class="fas fa-file-pdf file-icon pdf"></i>
                            <div class="file-info">
                                <span class="file-name">แผนการเดินทาง.pdf</span>
                                <span class="file-meta">อัปโหลดเมื่อ: 20 ก.ย. 2567 · ขนาด: 1.2 MB</span>
                            </div>
                            <div class="file-actions">
                                <button class="btn-icon" onclick="openPreview('static/img/test.pdf', 'pdf')"><i class="fas fa-eye"></i></button>
                                <a href="static/img/test1.jpg" download="แผนการเดินทาง.pdf" class="btn-icon"><i class="fa-solid fa-download"></i></a>
                                <button class="btn-icon"><i class="fa-solid fa-trash""></i></button>
                            </div>
                        </div>

                        <div class="file-item">
                            <i class="fas fa-file-word file-icon word"></i>
                            <div class="file-info">
                                <span class="file-name">รายชื่อสมาชิก.docx</span>
                                <span class="file-meta">อัปโหลดเมื่อ: 21 ก.ย. 2567 · ขนาด: 256 KB</span>
                            </div>
                            <div class="file-actions">
                                <button class="btn-icon" onclick="openPreview('static/img/test1.jpg', 'none')"><i class="fas fa-eye"></i></button>
                                <a href="static/img/test1.jpg" download="บัตรจองที่พัก.png" class="btn-icon"><i class="fa-solid fa-download"></i></a>
                                <button class="btn-icon"><i class="fa-solid fa-trash""></i></button>
                            </div>
                        </div>

                        <div class="file-item">
                            <i class="fas fa-file-image file-icon image"></i>
                            <div class="file-info">
                                <span class="file-name">บัตรจองที่พัก.png</span>
                                <span class="file-meta">อัปโหลดเมื่อ: 21 ก.ย. 2567 · ขนาด: 500 KB</span>
                            </div>
                            <div class="file-actions">
                                <button class="btn-icon" onclick="openPreview('static/img/test1.jpg', 'image')"><i class="fas fa-eye"></i></button>
                                <a href="static/img/test1.jpg" download="บัตรจองที่พัก.png" class="btn-icon"><i class="fa-solid fa-download"></i></a>
                                <button class="btn-icon"><i class="fa-solid fa-trash""></i></button>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
    </main>

    
    <!-- Modal Preview -->
    <div id="previewModal" class="preview-modal" style="display:none;">
        <div class="preview-content">
            <div class="" style="margin-bottom: 30px;">
                <span class="close" onclick="document.getElementById('previewModal').style.display='none'">&times;</span>
            </div>
            <div id="previewArea"></div>
        </div>
    </div>

    <div class="iframe-wrapper" id="iframeEditModal" style="display:none;">
        <iframe id="iframe-edit" class="iframe-edit" src="popup-editTripPlan.html"></iframe>
    </div>

    <div class="iframe-wrapper" id="iframeShareModal" style="display:none;">
        <iframe id="iframe-share" class="iframe-share" src="popup-shareTrip.html"></iframe>
    </div>

    <script>
        function openPreview(fileUrl, type) {
            const preview = document.getElementById("previewArea");
            preview.innerHTML = "";
        
            if (type === "image") {
                preview.innerHTML = `<img src="${fileUrl}" style="max-width:100%;border-radius:8px;">`;
            } else if (type === "pdf") {
                preview.innerHTML = `<iframe src="${fileUrl}" style="width:100%;height:500px;"></iframe>`;
            } else if (type === "doc") {
                preview.innerHTML = `<iframe src="https://docs.google.com/gview?url=${fileUrl}&embedded=true" style="width:100%;height:500px;"></iframe>`;
            } else {
                preview.innerHTML = `<p>ไม่สามารถพรีวิวไฟล์นี้ได้</p>`;
            }
        
            document.getElementById("previewModal").style.display = "flex";
        }

        function handleUpload(event) {
            const file = event.target.files[0];
            if (file) {
                alert("อัปโหลดไฟล์: " + file.name + " ขนาด " + (file.size/1024).toFixed(1) + " KB");
            }
        }
    </script>
</body>

</html>